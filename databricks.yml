bundle:
  name: cdp_core
  uuid: 98c7c9ce-c84d-4717-b5d8-25950e338d17

include:
  - resources/*.yml
  - resources/*/*.yml

variables:
  # environment:
  #   description: "Environment to deploy the bundle to"
  whl_path: 
    description: "Path to the wheel file in the Databricks workspace"
  SPN_ID:
    description: "Service Principal ID for the Databricks workspace"

artifacts:
  default:
    type: whl
    build: python setup.py bdist_wheel --dist-dir packages/
    files: 
      - source: packages/*.whl

targets:
  # ${var.environment}:
  #   mode: ${var.environment}
  #   workspace:
  #     root_path: /Workspace/Users/${workspace.current_user.userName}/.bundle/${bundle.name}/${bundle.target}
  user:
    mode: development
    default: true
    workspace:
      root_path: /Workspace/Users/${workspace.current_user.userName}/.bundle/${bundle.name}/${bundle.target}
    presets:
      name_prefix: "[${workspace.current_user.short_name}][${bundle.git.branch}]-"
      pipelines_development: true
      trigger_pause_status: PAUSED
      jobs_max_concurrent_runs: 10
  
