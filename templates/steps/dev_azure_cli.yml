parameters:
  - name: build_version
    type: string
  - name: description
    type: string
  - name: inlineScript
    type: string

steps:
  - task: AzureCLI@2
    env:
      BUILD_VERSION: ${{ parameters.build_version }}
    condition: succeeded()
    displayName: ${{ parameters.description }}
    inputs:
      azureSubscription: $(SPN_DEV_NAME) # BUG - https://github.com/microsoft/azure-pipelines-tasks/issues/17218
      useGlobalConfig: true
      scriptType: bash
      scriptLocation: inlineScript
      inlineScript: ${{ parameters.inlineScript }}
